<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="753px" preserveAspectRatio="none" style="width:986px;height:753px;" version="1.1" viewBox="0 0 986 753" width="986px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vnipch5rjwcr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="39" x2="39" y1="86.7999" y2="665.6002"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="358.5" x2="358.5" y1="86.7999" y2="665.6002"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="538.5" x2="538.5" y1="86.7999" y2="665.6002"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="670.5" x2="670.5" y1="86.7999" y2="665.6002"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="827.5" x2="827.5" y1="86.7999" y2="665.6002"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="942.5" x2="942.5" y1="86.7999" y2="665.6002"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="8" y="83.0059">ユーザー</text><ellipse cx="39" cy="13" fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M39,21 L39,48 M26,29 L52,29 M39,48 L26,63 M39,48 L52,63 " fill="none" filter="url(#f1vnipch5rjwcr)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="8" y="677.6061">ユーザー</text><ellipse cx="39" cy="691.4001" fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M39,699.4001 L39,726.4001 M26,707.4001 L52,707.4001 M39,726.4001 L26,741.4001 M39,726.4001 L52,741.4001 " fill="none" filter="url(#f1vnipch5rjwcr)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="315.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="322.5" y="71.0059">root_agent</text><rect fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="315.5" y="664.6002"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="322.5" y="684.6061">root_agent</text><rect fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="475.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="482.5" y="71.0059">inspiration_agent</text><rect fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="475.5" y="664.6002"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="482.5" y="684.6061">inspiration_agent</text><rect fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="612.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="619.5" y="71.0059">planning_agent</text><rect fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="612.5" y="664.6002"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="619.5" y="684.6061">planning_agent</text><rect fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="771.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="778.5" y="71.0059">booking_agent</text><rect fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" height="30.7999" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="771.5" y="664.6002"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="778.5" y="684.6061">booking_agent</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="904.5" y="83.0059">共有メモリ</text><path d="M924.5,34 C924.5,24 942.5,24 942.5,24 C942.5,24 960.5,24 960.5,34 L960.5,60 C960.5,70 942.5,70 942.5,70 C942.5,70 924.5,70 924.5,60 L924.5,34 " fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M924.5,34 C924.5,44 942.5,44 942.5,44 C942.5,44 960.5,44 960.5,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="904.5" y="677.6061">共有メモリ</text><path d="M924.5,691.4001 C924.5,681.4001 942.5,681.4001 942.5,681.4001 C942.5,681.4001 960.5,681.4001 960.5,691.4001 L960.5,717.4001 C960.5,727.4001 942.5,727.4001 942.5,727.4001 C942.5,727.4001 924.5,727.4001 924.5,717.4001 L924.5,691.4001 " fill="#FEFECE" filter="url(#f1vnipch5rjwcr)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M924.5,691.4001 C924.5,701.4001 942.5,701.4001 942.5,701.4001 C942.5,701.4001 960.5,701.4001 960.5,691.4001 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><polygon fill="#A80036" points="347,114.3999,357,118.3999,347,122.3999,351,118.3999" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="353" y1="118.3999" y2="118.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="46" y="112.8769">"東京で良いイタリアンレストランを探しています"</text><polygon fill="#A80036" points="527,144,537,148,527,152,531,148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359" x2="533" y1="148" y2="148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="366" y="142.477">要求を転送</text><polygon fill="#A80036" points="370,173.6,360,177.6,370,181.6,366,177.6" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="364" x2="538" y1="177.6" y2="177.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="376" y="172.077">レストラン候補一覧を返却</text><polygon fill="#A80036" points="50,203.2,40,207.2,50,211.2,46,207.2" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="44" x2="358" y1="207.2" y2="207.2"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="56" y="201.677">レストラン候補を提示</text><polygon fill="#A80036" points="347,232.8,357,236.8,347,240.8,351,236.8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="353" y1="236.8" y2="236.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="46" y="231.277">"La Vitaが良さそうです"</text><polygon fill="#A80036" points="930.5,262.4,940.5,266.4,930.5,270.4,934.5,266.4" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359" x2="936.5" y1="266.4" y2="266.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="366" y="260.877">レストラン選択を記録</text><polygon fill="#A80036" points="658.5,292,668.5,296,658.5,300,662.5,296" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359" x2="664.5" y1="296" y2="296"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="366" y="290.477">予約に関する要求を転送</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="670.5" x2="712.5" y1="325.6" y2="325.6"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="712.5" x2="712.5" y1="325.6" y2="338.6"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="671.5" x2="712.5" y1="338.6" y2="338.6"/><polygon fill="#A80036" points="681.5,334.6,671.5,338.6,681.5,342.6,677.5,338.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="677.5" y="320.077">コース・空席情報を取得</text><polygon fill="#A80036" points="930.5,364.2001,940.5,368.2001,930.5,372.2001,934.5,368.2001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="670.5" x2="936.5" y1="368.2001" y2="368.2001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="677.5" y="362.677">予約情報を記録</text><polygon fill="#A80036" points="370,393.8001,360,397.8001,370,401.8001,366,397.8001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="364" x2="669.5" y1="397.8001" y2="397.8001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="376" y="392.2771">予約可能なプランを返却</text><polygon fill="#A80036" points="50,423.4001,40,427.4001,50,431.4001,46,427.4001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="44" x2="358" y1="427.4001" y2="427.4001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="56" y="421.8771">プランを提示</text><polygon fill="#A80036" points="347,453.0001,357,457.0001,347,461.0001,351,457.0001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="39" x2="353" y1="457.0001" y2="457.0001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="46" y="451.4771">"予約を確定してください"</text><polygon fill="#A80036" points="815.5,482.6001,825.5,486.6001,815.5,490.6001,819.5,486.6001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="359" x2="821.5" y1="486.6001" y2="486.6001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="366" y="481.0771">予約確定要求を転送</text><polygon fill="#A80036" points="930.5,512.2001,940.5,516.2001,930.5,520.2001,934.5,516.2001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="936.5" y1="516.2001" y2="516.2001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="834.5" y="510.6771">予約内容を読込</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="869.5" y1="545.8001" y2="545.8001"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="869.5" x2="869.5" y1="545.8001" y2="558.8001"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="828.5" x2="869.5" y1="558.8001" y2="558.8001"/><polygon fill="#A80036" points="838.5,554.8001,828.5,558.8001,838.5,562.8001,834.5,558.8001" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="834.5" y="540.2771">予約処理実行</text><polygon fill="#A80036" points="930.5,584.4001,940.5,588.4001,930.5,592.4001,934.5,588.4001" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="936.5" y1="588.4001" y2="588.4001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="834.5" y="582.8771">予約結果を記録</text><polygon fill="#A80036" points="370,614.0002,360,618.0002,370,622.0002,366,618.0002" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="364" x2="826.5" y1="618.0002" y2="618.0002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="376" y="612.4772">予約確定情報を返却</text><polygon fill="#A80036" points="50,643.6002,40,647.6002,50,651.6002,46,647.6002" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="44" x2="358" y1="647.6002" y2="647.6002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="56" y="642.0772">予約完了を通知</text><!--MD5=[fda089a5288946e68c0123bf507d3c15]
@startuml
skinparam backgroundColor white
skinparam handwritten false

actor "ユーザー" as User
participant "root_agent" as Root
participant "inspiration_agent" as Inspiration
participant "planning_agent" as Planning
participant "booking_agent" as Booking
database "共有メモリ" as Memory

User -> Root: "東京で良いイタリアンレストランを探しています"
Root -> Inspiration: 要求を転送
Inspiration - -> Root: レストラン候補一覧を返却
Root - -> User: レストラン候補を提示

User -> Root: "La Vitaが良さそうです"
Root -> Memory: レストラン選択を記録
Root -> Planning: 予約に関する要求を転送

Planning -> Planning: コース・空席情報を取得
Planning -> Memory: 予約情報を記録
Planning - -> Root: 予約可能なプランを返却
Root - -> User: プランを提示

User -> Root: "予約を確定してください"
Root -> Booking: 予約確定要求を転送
Booking -> Memory: 予約内容を読込
Booking -> Booking: 予約処理実行
Booking -> Memory: 予約結果を記録
Booking - -> Root: 予約確定情報を返却
Root - -> User: 予約完了を通知

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.11+9-Debian-1deb12u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>